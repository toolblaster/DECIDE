<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>DECIDE. | Daily Priority Tool</title>
    <meta name="description" content="Decide your top priorities for today ‚Äî nothing more, nothing less. A minimalist daily planner to build focus and habit.">
    <meta name="theme-color" content="#FAFAF9">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">

    <!-- PWA Manifest & Icons (Data URIs for Single-File Portability) -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üéØ</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect width=%22100%22 height=%22100%22 fill=%22%23FAFAF9%22/><text x=%2250%25%22 y=%2250%25%22 dominant-baseline=%22central%22 text-anchor=%22middle%22 font-size=%2270%22>üéØ</text></svg>">
    <link rel="manifest" href='data:application/manifest+json;base64,ewogICJuYW1lIjogIkRFQ0lERS4iLAogICJzaG9ydF9uYW1lIjogIkRlY2lkZSIsCiAgInN0YXJ0X3VybCI6ICIuIiwKICAiZGlzcGxheSI6ICJzdGFuZGFsb25lIiwKICAiYmFja2dyb3VuZF9jb2xvciI6ICIjRkFGQUY5IiwKICAidGhlbWVfY29xvciI6ICIjRkFGQUY5IiwKICAiaWNvbnMiOiBbCiAgICB7CiAgICAgICJzcmMiOiAiZGF0YTppbWFnZS9zdmcreG1sLDxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgMTAwIDEwMCc+PHRleHQgeT0nLjllbScgZm9udC1zaXplPSc5MCc+8J+OryA8L3RleHQ+PC9zdmc+IiwKICAgICAgInNpemVzIjogIjE5MngxOTIiLAogICAgICAidHlwZSI6ICJpbWFnZS9zdmcreG1sIgogICAgfQogIF0KfQ=='>

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class', /* Manual Dark Mode via 'dark' class */
            theme: {
                extend: {
                    colors: {
                        stone: {
                            850: '#1c1917',
                            950: '#0c0a09',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* Minimalist Typography & Transitions */
        :root {
            /* Light Mode Variables (Default) */
            --bg-color: #FAFAF9; /* Stone-50 */
            --text-main: #292524; /* Stone-800 */
            --text-muted: #78716C; /* Stone-500 */
            --text-subtle: #A8A29E; /* Stone-400 */
            --accent: #1C1917; /* Stone-900 */
            --input-border: #E7E5E4; /* Stone-200 */
        }

        /* Dark Mode Override - Applied when <html class="dark"> */
        :root.dark {
            --bg-color: #0c0a09; /* Stone-950 */
            --text-main: #f5f5f4; /* Stone-100 */
            --text-muted: #a8a29e; /* Stone-400 */
            --text-subtle: #57534e; /* Stone-600 */
            --accent: #e7e5e4; /* Stone-200 */
            --input-border: #292524; /* Stone-800 */
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            background-color: var(--bg-color);
            color: var(--text-main);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        /* Subtle Fade In */
        .fade-in {
            animation: fadeIn 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
            opacity: 0;
            transform: translateY(10px);
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Input Styling */
        .priority-input {
            background: transparent;
            border: none;
            border-bottom: 1px solid var(--input-border);
            border-radius: 0;
            transition: border-color 0.3s ease;
            font-size: 16px; /* Prevents iOS zoom */
        }
        
        .priority-input:focus {
            outline: none;
            border-bottom: 1.5px solid var(--accent);
            box-shadow: none;
        }

        /* Custom Checkbox for Closure */
        .closure-btn {
            transition: all 0.2s ease;
        }
        .closure-btn:hover {
            transform: translateY(-1px);
        }
        .closure-btn.selected {
            background-color: var(--accent);
            color: var(--bg-color);
            border-color: var(--accent);
        }

        /* AdSense Optimization: Prevent Layout Shift (CLS) */
        /* Updated: Margins handled by utility classes for precision */
        .ad-container {
            width: 100%;
            min-height: 280px; /* Standard rect ad height - Preserves Space for CLS */
            background-color: transparent; 
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        /* Modal for Privacy Policy */
        .modal-backdrop {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 50;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        .modal-active { display: flex; }

        /* Staggered Animation Delays */
        .delay-100 { animation-delay: 100ms; }
        .delay-200 { animation-delay: 200ms; }
        .delay-300 { animation-delay: 300ms; }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center p-6 sm:p-12">

    <!-- Main App Container -->
    <main id="app" class="w-full max-w-lg mx-auto mt-8 relative z-10">
        <!-- Content rendered via JS -->
    </main>

    <!-- SEO & About Section (Dark Mode Optimized) -->
    <!-- Updated margin-top to reserve exactly 100px space above the content -->
    <article class="w-full max-w-2xl mx-auto mt-[100px] mb-16 prose prose-stone dark:prose-invert">
        
        <div class="space-y-8 text-stone-600 dark:text-stone-400">
            <!-- Intro -->
            <!-- Changed bg-stone-50 to bg-white for visibility in light mode -->
            <section class="bg-white dark:bg-stone-900 p-6 rounded-lg border border-stone-200 dark:border-stone-800 shadow-sm">
                <h2 class="text-xl font-semibold text-stone-800 dark:text-stone-200 mb-4 flex items-center gap-2 mt-0">
                    <span>üß†</span> What is DECIDE?
                </h2>
                <p class="leading-relaxed mb-4">
                    Think of DECIDE as a quiet corner for your brain. It‚Äôs a simple tool designed to help you cut through the noise and figure out your top three priorities for the day‚Äîusually in less than a minute.
                </p>
                <p class="font-medium text-stone-800 dark:text-stone-300 italic border-l-2 border-stone-300 dark:border-stone-700 pl-4 py-1">
                    What are the three most important things today?
                </p>
                <p class="mt-4 mb-0">
                    That‚Äôs it. No complicated systems, no endless backlogs, and definitely no guilt. Just clarity.
                </p>
            </section>

            <!-- Differentiation -->
            <section class="bg-white dark:bg-stone-900 p-6 rounded-lg border border-stone-200 dark:border-stone-800 shadow-sm">
                <h2 class="text-xl font-semibold text-stone-800 dark:text-stone-200 mb-4 flex items-center gap-2 mt-0">
                    <span>üéØ</span> Why DECIDE is Different
                </h2>
                <p class="mb-4">Most productivity apps try to help you manage a massive list of tasks. <strong>We focus on something else: making decisions.</strong></p>
                <ul class="list-disc list-outside ml-5 space-y-2 mb-4">
                    <li>We don't let you drown in tasks.</li>
                    <li>We don't ask you to schedule every minute.</li>
                    <li>We don't pester you with notifications.</li>
                </ul>
                <p class="mt-4 mb-0">
                    It‚Äôs just one day, three clear goals, and a clear mind. It helps you start your day with intention and end it with a sense of closure.
                </p>
            </section>

            <!-- Comparison Section (Dark Mode Optimized) -->
            <section class="bg-white dark:bg-stone-900 p-6 rounded-lg border border-stone-200 dark:border-stone-800 shadow-sm">
                <h2 class="text-xl font-semibold text-stone-800 dark:text-stone-200 mb-6 flex items-center gap-2 mt-0">
                    <span>üÜö</span> DECIDE vs Traditional Planners
                </h2>
                <p class="mb-4">We've all been there. You buy a planner, fill it out perfectly for three days, miss one day, feel guilty, and never open it again.</p>
                
                <div class="grid md:grid-cols-2 gap-8 mb-8">
                    <div>
                        <h3 class="font-bold text-stone-800 dark:text-stone-200 mb-2">‚ùå Traditional Planners</h3>
                        <p class="text-sm mb-2">Often feel like homework:</p>
                        <ul class="list-disc list-outside ml-4 space-y-1 text-sm">
                            <li>List literally everything</li>
                            <li>Color-code and categorize</li>
                            <li>Feel bad about unfinished items</li>
                            <li>Eventually get abandoned</li>
                        </ul>
                        <p class="text-sm mt-3 italic text-stone-500 dark:text-stone-500">High effort, high guilt.</p>
                    </div>
                    <div>
                        <h3 class="font-bold text-stone-800 dark:text-stone-200 mb-2">‚úÖ DECIDE</h3>
                        <p class="text-sm mb-2">Feels like a fresh start:</p>
                        <ul class="list-disc list-outside ml-4 space-y-1 text-sm">
                            <li>Focus only on what matters</li>
                            <li>Limit yourself to 3 wins</li>
                            <li>Fresh slate every morning</li>
                            <li>Zero judgment</li>
                        </ul>
                        <p class="text-sm mt-3 italic text-stone-500 dark:text-stone-500">Low effort, high clarity.</p>
                    </div>
                </div>

                <div class="overflow-x-auto mb-6">
                    <table class="w-full text-sm text-left border-collapse">
                        <thead>
                            <tr class="border-b border-stone-200 dark:border-stone-800">
                                <th class="py-2 font-semibold text-stone-500">Feature</th>
                                <th class="py-2 font-semibold text-stone-800 dark:text-stone-200">DECIDE</th>
                                <th class="py-2 font-semibold text-stone-400">Traditional Planner</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-stone-100 dark:divide-stone-800">
                            <tr>
                                <td class="py-2 font-medium">Main Goal</td>
                                <td class="py-2 text-stone-800 dark:text-stone-300">Clear decisions</td>
                                <td class="py-2 text-stone-500">Task management</td>
                            </tr>
                            <tr>
                                <td class="py-2 font-medium">Scope</td>
                                <td class="py-2 text-stone-800 dark:text-stone-300">Just today</td>
                                <td class="py-2 text-stone-500">Weeks / Months</td>
                            </tr>
                            <tr>
                                <td class="py-2 font-medium">Limit</td>
                                <td class="py-2 text-stone-800 dark:text-stone-300">Strictly 3 items</td>
                                <td class="py-2 text-stone-500">Unlimited</td>
                            </tr>
                            <tr>
                                <td class="py-2 font-medium">Time needed</td>
                                <td class="py-2 text-stone-800 dark:text-stone-300">~60 seconds</td>
                                <td class="py-2 text-stone-500">10‚Äì30 minutes</td>
                            </tr>
                            <tr>
                                <td class="py-2 font-medium">Vibe</td>
                                <td class="py-2 text-stone-800 dark:text-stone-300">Calm</td>
                                <td class="py-2 text-stone-500">Busy</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="mt-8 pt-6 border-t border-stone-200 dark:border-stone-800">
                    <h3 class="font-bold text-stone-800 dark:text-stone-200 mb-3 mt-0">üéØ Think of It This Way</h3>
                    <div class="space-y-2 text-sm">
                        <p><span class="font-semibold text-stone-500">Planner asks:</span> ‚ÄúHow will I possibly fit everything in?‚Äù</p>
                        <p><span class="font-semibold text-stone-800 dark:text-stone-300">DECIDE asks:</span> ‚ÄúIf I only get 3 things done, what should they be?‚Äù</p>
                    </div>
                    <p class="mt-4 text-sm mb-0">You don't need to replace your calendar. Use this *before* you look at it.</p>
                </div>
            </section>

            <!-- Workflow -->
            <section class="bg-white dark:bg-stone-900 p-6 rounded-lg border border-stone-200 dark:border-stone-800 shadow-sm">
                <h2 class="text-xl font-semibold text-stone-800 dark:text-stone-200 mb-4 flex items-center gap-2 mt-0">
                    <span>‚è±Ô∏è</span> Decide Your Day in 60 Seconds
                </h2>
                <p class="mb-4">It‚Äôs built to be the easiest habit you have:</p>
                <ol class="list-decimal list-outside ml-5 space-y-2 mb-4">
                    <li>Open the app (it loads instantly).</li>
                    <li>Type the 3 things that would make today a success.</li>
                    <li>Click Save. Go do them.</li>
                </ol>
                <p class="mt-4 mb-0">
                    The app resets itself at midnight. No cleanup required.
                </p>
            </section>

            <!-- Philosophy -->
            <section class="bg-white dark:bg-stone-900 p-6 rounded-lg border border-stone-200 dark:border-stone-800 shadow-sm">
                <h2 class="text-xl font-semibold text-stone-800 dark:text-stone-200 mb-4 flex items-center gap-2 mt-0">
                    <span>üîÅ</span> Built for Daily Use, Not Burnout
                </h2>
                <p class="mb-4">We designed this around how real people actually behave, not how "productivity gurus" say we should behave.</p>
                <ul class="list-disc list-outside ml-5 space-y-2 mb-4">
                    <li>Gentle Recall: We'll remind you what you focused on yesterday, just to keep the momentum going.</li>
                    <li>Quiet Consistency: We track your streak internally to give you encouragement, but we won't flash big numbers at you if you break it.</li>
                    <li>Weekly Glimpse: Once a week, we'll show you the themes you've been focusing on. No charts, just words.</li>
                </ul>
                <p class="mt-4 mb-0">
                    It's perfect for students, creators, parents, or anyone who just wants to feel a little more in control.
                </p>
            </section>

            <!-- Features -->
            <section class="bg-white dark:bg-stone-900 p-6 rounded-lg border border-stone-200 dark:border-stone-800 shadow-sm">
                <h2 class="text-xl font-semibold text-stone-800 dark:text-stone-200 mb-4 flex items-center gap-2 mt-0">
                    <span>üîí</span> Simple, Private, and Fast
                </h2>
                <ul class="grid sm:grid-cols-2 gap-2 text-sm font-medium text-stone-700 dark:text-stone-400 mb-4">
                    <li class="flex items-center gap-2"><svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> No sign-up needed</li>
                    <li class="flex items-center gap-2"><svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Works totally offline</li>
                    <li class="flex items-center gap-2"><svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Data stays on your device</li>
                    <li class="flex items-center gap-2"><svg class="w-4 h-4 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Loads in milliseconds</li>
                </ul>
                <p class="mt-4 text-sm italic mb-0">
                    We respect your attention. We won't sell your data.
                </p>
            </section>

            <!-- FAQ Section -->
            <section>
                <h2 class="text-xl font-semibold text-stone-800 dark:text-stone-200 mb-6 flex items-center gap-2">
                    <span>‚ùì</span> Frequently Asked Questions
                </h2>
                <div class="space-y-4">
                    <!-- Q1 -->
                    <div class="p-5 bg-stone-100 dark:bg-stone-900 rounded-lg">
                        <h3 class="font-bold text-stone-800 dark:text-stone-200 mb-2 mt-0">1. What is DECIDE?</h3>
                        <p class="text-sm leading-relaxed mb-0">DECIDE is a daily priority tool that helps you decide your top three priorities for today in under 60 seconds. Instead of managing long to-do lists or planning weeks ahead, DECIDE focuses only on what truly matters today.</p>
                    </div>
                    
                    <!-- Q2 -->
                    <div class="p-5 bg-stone-100 dark:bg-stone-900 rounded-lg">
                        <h3 class="font-bold text-stone-800 dark:text-stone-200 mb-2 mt-0">2. Is DECIDE a daily planner or a to-do list?</h3>
                        <p class="text-sm leading-relaxed mb-2"><strong class="text-stone-800 dark:text-stone-200">No.</strong> DECIDE is not a traditional daily planner, to-do list, or task manager.</p>
                        <p class="text-sm leading-relaxed mt-2 mb-0">It's designed for *decision clarity*. You use this to figure out what matters, and *then* you can go put those tasks in your calendar if you want.</p>
                    </div>

                    <!-- Q3 -->
                    <div class="p-5 bg-stone-100 dark:bg-stone-900 rounded-lg">
                        <h3 class="font-bold text-stone-800 dark:text-stone-200 mb-2 mt-0">3. How is DECIDE different from productivity apps?</h3>
                        <p class="text-sm leading-relaxed mb-0">Most productivity apps help you do more. <strong class="text-stone-800 dark:text-stone-200">DECIDE helps you choose better.</strong> By limiting you to just three priorities per day, DECIDE reduces decision fatigue and mental clutter, making it easier to focus and actually get started.</p>
                    </div>

                    <!-- Q4 -->
                    <div class="p-5 bg-stone-100 dark:bg-stone-900 rounded-lg">
                        <h3 class="font-bold text-stone-800 dark:text-stone-200 mb-2 mt-0">4. Why only three priorities?</h3>
                        <p class="text-sm leading-relaxed mb-2"><strong class="text-stone-800 dark:text-stone-200">Because focus is limited.</strong> Research and real-world experience show that most people can only make meaningful progress on 2‚Äì3 important things per day. Limiting choices forces clarity and prevents overwhelm.</p>
                    </div>

                    <!-- Q5 -->
                    <div class="p-5 bg-stone-100 dark:bg-stone-900 rounded-lg">
                        <h3 class="font-bold text-stone-800 dark:text-stone-200 mb-2 mt-0">5. Do I need to create an account to use DECIDE?</h3>
                        <p class="text-sm leading-relaxed mb-2"><strong class="text-stone-800 dark:text-stone-200">No.</strong> DECIDE does not require sign-up or login. Your daily priorities are stored locally on your device. This keeps the app fast, private, and distraction-free.</p>
                    </div>

                    <!-- Q6 -->
                    <div class="p-5 bg-stone-100 dark:bg-stone-900 rounded-lg">
                        <h3 class="font-bold text-stone-800 dark:text-stone-200 mb-2 mt-0">6. Does DECIDE work offline?</h3>
                        <p class="text-sm leading-relaxed mb-0"><strong class="text-stone-800 dark:text-stone-200">Yes.</strong> DECIDE is a local-first tool and works offline once loaded. You can decide your day without an internet connection.</p>
                    </div>

                    <!-- Q7 -->
                    <div class="p-5 bg-stone-100 dark:bg-stone-900 rounded-lg">
                        <h3 class="font-bold text-stone-800 dark:text-stone-200 mb-2 mt-0">7. What happens to yesterday‚Äôs priorities?</h3>
                        <p class="text-sm leading-relaxed mb-0">Yesterday‚Äôs priorities remain saved and read-only. DECIDE may gently show them as a reminder to help you maintain continuity, but it does not judge or score your performance.</p>
                    </div>

                    <!-- Q8 -->
                    <div class="p-5 bg-stone-100 dark:bg-stone-900 rounded-lg">
                        <h3 class="font-bold text-stone-800 dark:text-stone-200 mb-2 mt-0">8. Does DECIDE track streaks or performance?</h3>
                        <p class="text-sm leading-relaxed mb-0">DECIDE tracks consistency internally to improve the experience, but it does not show streak numbers or productivity scores. There is no pressure, no guilt, and no gamification.</p>
                    </div>

                    <!-- Q9 -->
                    <div class="p-5 bg-stone-100 dark:bg-stone-900 rounded-lg">
                        <h3 class="font-bold text-stone-800 dark:text-stone-200 mb-2 mt-0">9. Can I use DECIDE along with another planner or task app?</h3>
                        <p class="text-sm leading-relaxed mb-0"><strong class="text-stone-800 dark:text-stone-200">Yes ‚Äî and that‚Äôs encouraged.</strong> DECIDE works best as a starting point, helping you decide what matters before you open planners, calendars, or task managers.</p>
                    </div>

                    <!-- Q10 -->
                    <div class="p-5 bg-stone-100 dark:bg-stone-900 rounded-lg">
                        <h3 class="font-bold text-stone-800 dark:text-stone-200 mb-2 mt-0">10. Is DECIDE free to use?</h3>
                        <p class="text-sm leading-relaxed mb-0"><strong class="text-stone-800 dark:text-stone-200">Yes.</strong> DECIDE is free to use. Any future premium features (such as exports or backups) will always be optional and non-intrusive.</p>
                    </div>

                    <!-- Q11 -->
                    <div class="p-5 bg-stone-100 dark:bg-stone-900 rounded-lg">
                        <h3 class="font-bold text-stone-800 dark:text-stone-200 mb-2 mt-0">11. Who should use DECIDE?</h3>
                        <p class="text-sm leading-relaxed mb-2">DECIDE is ideal for students, professionals, creators, founders, and anyone overwhelmed by to-do lists. If you want clarity instead of complexity, DECIDE is for you.</p>
                    </div>

                    <!-- Q12 -->
                    <div class="p-5 bg-stone-100 dark:bg-stone-900 rounded-lg">
                        <h3 class="font-bold text-stone-800 dark:text-stone-200 mb-2 mt-0">12. Is my data private?</h3>
                        <p class="text-sm leading-relaxed mb-0"><strong class="text-stone-800 dark:text-stone-200">Yes.</strong> DECIDE does not upload your data to servers. Everything stays on your device unless you explicitly choose otherwise in the future.</p>
                    </div>

                    <!-- Q13 -->
                    <div class="p-5 bg-stone-100 dark:bg-stone-900 rounded-lg">
                        <h3 class="font-bold text-stone-800 dark:text-stone-200 mb-2 mt-0">13. How long does it take to use DECIDE each day?</h3>
                        <p class="text-sm leading-relaxed mb-0">Most users complete their daily decision in under one minute. That‚Äôs the point.</p>
                    </div>
                </div>
            </section>

            <!-- Call to Action -->
            <section class="mt-12 p-6 bg-white dark:bg-stone-900 rounded-lg border border-stone-200 dark:border-stone-800 shadow-sm text-center">
                <h2 class="text-xl font-semibold text-stone-800 dark:text-stone-200 mb-2 mt-0">‚úÖ Start with just one day</h2>
                <p class="mb-6">You don‚Äôt need a complicated system. You just need a decision.</p>
                <button onclick="ui.scrollToTool()" class="text-stone-900 dark:text-stone-100 font-bold underline hover:text-stone-600 dark:hover:text-stone-300 transition-colors">
                    üëâ Decide your day now.
                </button>
            </section>
        </div>

        <!-- Footer -->
        <footer class="mt-16 pt-8 border-t border-stone-200 dark:border-stone-800 text-center text-xs text-stone-400">
            <p>Category: Productivity ¬∑ Daily Priority Tool ¬∑ Focus & Clarity Tool</p>
            <div class="mt-4 flex justify-center gap-4">
                <button onclick="ui.renderPrivacyModal()" class="hover:text-stone-600 dark:hover:text-stone-300 underline">Privacy Policy</button>
                <button onclick="ui.renderPrivacyModal()" class="hover:text-stone-600 dark:hover:text-stone-300 underline">Terms of Service</button>
            </div>
            <p class="mt-4">&copy; <script>document.write(new Date().getFullYear())</script> DECIDE.</p>
        </footer>

    </article>

    <!-- Privacy Policy Modal Container (Dark Mode Support) -->
    <div id="privacy-modal" class="modal-backdrop">
        <div class="bg-white dark:bg-stone-900 p-8 rounded-lg max-w-lg w-full max-h-[80vh] overflow-y-auto shadow-2xl">
            <h2 class="text-xl font-bold mb-4 dark:text-white">Privacy Policy</h2>
            <div class="prose prose-stone dark:prose-invert prose-sm text-stone-600 dark:text-stone-300">
                <p><strong>Last Updated:</strong> <script>document.write(new Date().toLocaleDateString())</script></p>
                <p>This application ("DECIDE") operates on a "Local-First" basis. Here is how we handle your data:</p>
                <ul class="list-disc pl-5 my-2">
                    <li><strong>Data Storage:</strong> All priorities, history, and streaks are stored exclusively on your device using Browser LocalStorage. We do not have servers, and we cannot see your data.</li>
                    <li><strong>Cookies:</strong> This website may use cookies from third-party advertising partners (such as Google AdSense) to serve relevant ads. You can manage your cookie preferences through your browser settings.</li>
                    <li><strong>External Links:</strong> We are not responsible for the content or privacy practices of other websites linked from this tool.</li>
                </ul>
                <p class="mt-2">By using DECIDE, you agree to this transparent, privacy-first approach.</p>
            </div>
            <button onclick="document.getElementById('privacy-modal').classList.remove('modal-active')" class="mt-6 w-full py-3 bg-stone-900 dark:bg-stone-100 text-white dark:text-stone-900 rounded-lg font-bold">Close</button>
        </div>
    </div>

    <script>
        /**
         * DECIDE.
         * A local-first, minimalist productivity tool.
         */

        // --- Constants & Config ---
        const DB_KEY = 'decide_data_v1';
        const META_KEY = 'decide_meta_v1';
        const THEME_KEY = 'decide_theme_v1';
        
        // Stop words for keyword extraction (common English words to ignore)
        const STOP_WORDS = new Set(['the','and','to','a','of','in','i','is','for','on','with','my','at','it','do','make','get','be','from','up','out','as','an']);
        
        // Dynamic Placeholders for UX Guidance
        const PLACEHOLDERS = [
            ["Most important task...", "Quick win...", "Deep work..."],
            ["One big thing...", "Small step...", "Personal goal..."],
            ["Work focus...", "Life admin...", "Health goal..."],
            ["Finish project X...", "Call friend...", "Read 10 mins..."]
        ];

        // --- State Management ---
        const store = {
            data: {}, // { "YYYY-MM-DD": { priorities: [], decidedAt: ts, closure: null } }
            meta: {
                streak: 0,
                lastOpened: null,
                lastWeeklySummary: null
            },

            init() {
                const rawData = localStorage.getItem(DB_KEY);
                const rawMeta = localStorage.getItem(META_KEY);
                if (rawData) this.data = JSON.parse(rawData);
                if (rawMeta) this.meta = JSON.parse(rawMeta);
                
                this.updateStreak();
            },

            save() {
                localStorage.setItem(DB_KEY, JSON.stringify(this.data));
                localStorage.setItem(META_KEY, JSON.stringify(this.meta));
            },

            // Helper to ensure we get Local Date YYYY-MM-DD (Not UTC)
            getLocalYMD(dateObj = new Date()) {
                const year = dateObj.getFullYear();
                const month = String(dateObj.getMonth() + 1).padStart(2, '0');
                const day = String(dateObj.getDate()).padStart(2, '0');
                return `${year}-${month}-${day}`;
            },

            getToday() {
                const today = this.getLocalYMD();
                return { date: today, entry: this.data[today] };
            },

            getYesterday() {
                const date = new Date();
                date.setDate(date.getDate() - 1);
                const yesterday = this.getLocalYMD(date);
                return { date: yesterday, entry: this.data[yesterday] };
            },

            saveDay(priorities) {
                const { date } = this.getToday();
                this.data[date] = {
                    priorities: priorities,
                    decidedAt: Date.now(),
                    closure: null // 'yes', 'partial', 'no'
                };
                
                // Update Meta
                if (this.getYesterday().entry) {
                    this.meta.streak += 1;
                } else {
                    this.meta.streak = 1;
                }
                this.meta.lastOpened = date;
                this.save();
            },

            saveClosure(response) {
                const { date, entry } = this.getToday();
                if (entry) {
                    entry.closure = response;
                    this.save();
                }
            },

            updateStreak() {
                const { date } = this.getToday();
                if (this.meta.lastOpened !== date) {
                    // Streak logic is handled on 'saveDay'. 
                    // We don't reset it here just by opening the app, 
                    // as that would punish someone for opening the app in the morning before saving.
                }
            },

            getWeeklyKeywords() {
                // Aggregate last 7 days text
                const words = {};
                const today = new Date();
                
                for(let i=0; i<7; i++) {
                    const d = new Date();
                    d.setDate(today.getDate() - i);
                    const dateStr = this.getLocalYMD(d);
                    const entry = this.data[dateStr];
                    
                    if(entry && entry.priorities) {
                        entry.priorities.forEach(p => {
                            const clean = p.toLowerCase().replace(/[^a-z0-9\s]/g, '').split(/\s+/);
                            clean.forEach(w => {
                                if(w.length > 2 && !STOP_WORDS.has(w)) {
                                    words[w] = (words[w] || 0) + 1;
                                }
                            });
                        });
                    }
                }
                
                // Sort by frequency
                return Object.entries(words)
                    .sort((a, b) => b[1] - a[1])
                    .slice(0, 3)
                    .map(pair => pair[0]);
            }
        };

        // --- UI Rendering ---
        const ui = {
            app: document.getElementById('app'),

            initTheme() {
                const savedTheme = localStorage.getItem(THEME_KEY);
                // Default to light if no pref saved, user can toggle
                if (savedTheme === 'dark') {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
            },

            toggleTheme() {
                const html = document.documentElement;
                if (html.classList.contains('dark')) {
                    html.classList.remove('dark');
                    localStorage.setItem(THEME_KEY, 'light');
                } else {
                    html.classList.add('dark');
                    localStorage.setItem(THEME_KEY, 'dark');
                }
                // Re-render header to update icon
                const header = document.querySelector('header');
                if (header) {
                     // Since header re-render logic is inside render(), we can just update icon via DOM or re-render.
                     // A full re-render is safe here to ensure all UI parts update their Tailwind classes if needed.
                     this.render();
                }
            },

            scrollToTool() {
                const header = document.getElementById('date-header');
                if (header) {
                    header.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
                
                // Auto-focus the first input if available (enhances UX)
                setTimeout(() => {
                    const input = document.querySelector('.priority-input');
                    if (input) input.focus();
                }, 800); // Increased delay slightly to ensure scroll finishes
            },

            render() {
                store.init();
                const { date, entry } = store.getToday();
                const now = new Date();
                const hour = now.getHours();
                const yesterday = store.getYesterday();

                this.app.innerHTML = ''; // Clear

                // 1. Header (Date + Theme Toggle)
                this.renderHeader(now);
                
                // 2. Intro Block (H1 + Subtext) - Always present at top of main area
                this.renderIntro();

                // 3. State Switch
                if (!entry) {
                    // CASE: Morning/New Day (Not decided yet)
                    if (yesterday.entry) {
                        this.renderYesterday(yesterday.entry.priorities);
                    }
                    this.renderInputForm();
                } else {
                    // CASE: Decided
                    
                    // Weekly Summary Check (Show only if streak is multiple of 7 and not shown today)
                    // We simulate this by checking if streak > 0 and streak % 7 === 0.
                    const showWeekly = (store.meta.streak > 0 && store.meta.streak % 7 === 0 && store.meta.lastWeeklySummary !== date);
                    
                    if (showWeekly) {
                         this.renderWeeklySummary(date);
                    } else if (hour >= 18 && !entry.closure) {
                        // CASE: Evening Review (After 6 PM local)
                        this.renderReadonly(entry.priorities);
                        this.renderClosure();
                    } else {
                        // CASE: Day Active (or Closure Done)
                        this.renderReadonly(entry.priorities);
                        this.renderFooterMessage(entry.closure ? "Day complete." : "Come back tomorrow.");
                    }
                }
            },

            renderHeader(dateObj) {
                const options = { weekday: 'long', month: 'long', day: 'numeric' };
                const dateStr = dateObj.toLocaleDateString('en-US', options);
                
                const header = document.createElement('header');
                header.id = 'date-header'; // Targeted ID for scrolling
                header.className = 'mb-8 text-center fade-in relative scroll-mt-12'; // Added scroll-mt for spacing
                
                // Check current theme for icon
                const isDark = document.documentElement.classList.contains('dark');
                const iconSvg = isDark 
                    ? `<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>` // Sun
                    : `<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>`; // Moon

                header.innerHTML = `
                    <div class="flex justify-between items-center mb-2 px-1 relative">
                        <!-- Logo Icon -->
                        <div class="w-8 h-8 flex items-center justify-center">
                            <svg class="w-6 h-6 text-stone-800 dark:text-stone-100" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <circle cx="12" cy="12" r="10" stroke-width="1.5"></circle>
                                <circle cx="12" cy="12" r="4" stroke-width="1.5"></circle>
                            </svg>
                        </div>
                        
                        <span class="text-sm font-semibold tracking-widest text-stone-500 uppercase">DECIDE</span>
                        
                        <button id="theme-toggle" class="w-8 h-8 flex items-center justify-center text-stone-400 hover:text-stone-600 dark:hover:text-stone-200 transition-colors" aria-label="Toggle Dark Mode">
                            ${iconSvg}
                        </button>
                    </div>
                    <!-- Updated to font-normal for perfect legibility without boldness -->
                    <div class="text-3xl font-normal text-stone-800 dark:text-stone-100">${dateStr}</div>
                `;
                
                // Add event listener (before appending to DOM, we need to append first then query, or create element directly)
                // Easier to append then query selector since we used innerHTML string
                this.app.appendChild(header);
                
                const btn = header.querySelector('#theme-toggle');
                if(btn) {
                    btn.addEventListener('click', () => {
                        this.toggleTheme();
                    });
                }
            },
            
            renderIntro() {
                const div = document.createElement('div');
                div.className = 'text-center mb-8 fade-in';
                div.innerHTML = `
                    <h1 class="text-2xl md:text-3xl text-stone-800 dark:text-stone-100 font-medium mb-3">
                        Decide your day in 60 seconds.
                    </h1>
                    <p class="text-stone-400 dark:text-stone-500 text-sm leading-relaxed max-w-sm mx-auto">
                        A simple daily priority tool to help you decide what truly matters today ‚Äî without planners, to-do lists, or overwhelm.
                    </p>
                `;
                this.app.appendChild(div);
            },

            renderYesterday(priorities) {
                const div = document.createElement('div');
                div.className = 'mb-10 p-6 bg-white dark:bg-stone-900 border border-stone-200 dark:border-stone-800 rounded-lg fade-in delay-100 shadow-sm';
                div.innerHTML = `
                    <h2 class="text-sm text-stone-500 mb-4 font-medium">Yesterday, you focused on:</h2>
                    <ul class="space-y-2">
                        ${priorities.map(p => `<li class="text-stone-500 line-through decoration-stone-300 dark:decoration-stone-700">${this.escapeHtml(p)}</li>`).join('')}
                    </ul>
                `;
                this.app.appendChild(div);
            },

            renderInputForm(initialValues = []) {
                const form = document.createElement('form');
                form.className = 'space-y-8 fade-in delay-200';
                
                // Select Random Placeholders
                const phSet = PLACEHOLDERS[Math.floor(Math.random() * PLACEHOLDERS.length)];

                form.innerHTML = `
                    <div class="space-y-6">
                        <label class="block text-xl text-stone-800 dark:text-stone-200 font-normal mb-6">What matters today?</label>
                        ${[1, 2, 3].map((i, idx) => `
                            <div class="relative">
                                <span class="absolute left-0 top-2 text-stone-400 font-mono text-sm" aria-hidden="true">0${i}</span>
                                <input type="text" name="p${i}" autocomplete="off" aria-label="Priority ${i}"
                                    class="priority-input w-full pl-8 py-2 text-lg text-stone-800 dark:text-stone-100 placeholder-stone-400 bg-transparent focus:ring-0"
                                    placeholder="${phSet[idx]}" value="${initialValues[idx] || ''}"
                                    required maxlength="60">
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="pt-6 flex flex-col items-center space-y-4">
                        <button type="submit" 
                            class="px-8 py-3 bg-stone-900 dark:bg-stone-100 text-white dark:text-stone-900 rounded-full text-sm hover:opacity-90 transition-opacity duration-300 w-full sm:w-auto shadow-md flex items-center gap-2">
                            Decide Today <span>&rarr;</span>
                        </button>
                        <p class="text-xs text-stone-400 dark:text-stone-500">No sign-up ¬∑ Works offline ¬∑ Free to use</p>
                    </div>
                `;

                // Soft Habit Copy (Hidden Logic)
                if (store.meta.streak > 2) {
                    const msg = document.createElement('p');
                    msg.className = 'text-center text-xs text-stone-500 mt-4';
                    msg.innerText = "You're building consistency.";
                    form.appendChild(msg);
                }

                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const p1 = form.p1.value.trim();
                    const p2 = form.p2.value.trim();
                    const p3 = form.p3.value.trim();
                    
                    if (p1 && p2 && p3) {
                        store.saveDay([p1, p2, p3]);
                        
                        // Check for reminder permission request
                        if ('Notification' in window && Notification.permission === 'default') {
                             Notification.requestPermission();
                        }
                        
                        this.render(); // Re-render to show read-only state
                    }
                });

                this.app.appendChild(form);
                
                // Only autofocus if not editing existing values (prevents jumpiness)
                if (initialValues.length === 0) {
                     setTimeout(() => form.querySelector('input').focus(), 500);
                }
            },

            renderReadonly(priorities) {
                const div = document.createElement('div');
                div.className = 'space-y-8 fade-in delay-100';
                div.innerHTML = `
                    <div class="space-y-6">
                        <div class="flex justify-between items-end mb-6">
                            <h2 class="block text-xl text-stone-800 dark:text-stone-200 font-light">Today's Focus</h2>
                            <button id="edit-btn" class="text-xs text-stone-400 hover:text-stone-600 dark:hover:text-stone-300 underline">Edit</button>
                        </div>
                        ${priorities.map((p, i) => `
                            <div class="flex items-baseline space-x-4 border-b border-transparent py-2">
                                <span class="text-stone-400 font-mono text-sm">0${i+1}</span>
                                <span class="text-lg text-stone-800 dark:text-stone-100">${this.escapeHtml(p)}</span>
                            </div>
                        `).join('')}
                    </div>
                `;
                
                // Edit Functionality
                div.querySelector('#edit-btn').addEventListener('click', () => {
                   this.app.innerHTML = ''; // Clear
                   this.renderHeader(new Date()); // Re-render header
                   this.renderIntro(); // Re-render intro to maintain H1
                   this.renderInputForm(priorities); // Re-render form with data
                });

                this.app.appendChild(div);
            },

            renderClosure() {
                const div = document.createElement('div');
                div.className = 'mt-12 pt-12 border-t border-stone-200 dark:border-stone-800 fade-in delay-300 text-center';
                div.innerHTML = `
                    <h3 class="text-lg text-stone-600 dark:text-stone-400 mb-6 font-light">Did you do what mattered?</h3>
                    <div class="flex justify-center gap-3">
                        <button data-val="yes" class="closure-btn px-4 py-2 border border-stone-300 dark:border-stone-700 rounded text-stone-600 dark:text-stone-400 hover:border-stone-800 dark:hover:border-stone-200 text-sm">Yes</button>
                        <button data-val="partial" class="closure-btn px-4 py-2 border border-stone-300 dark:border-stone-700 rounded text-stone-600 dark:text-stone-400 hover:border-stone-800 dark:hover:border-stone-200 text-sm">Partially</button>
                        <button data-val="no" class="closure-btn px-4 py-2 border border-stone-300 dark:border-stone-700 rounded text-stone-600 dark:text-stone-400 hover:border-stone-800 dark:hover:border-stone-200 text-sm">Not really</button>
                    </div>
                `;

                div.querySelectorAll('button').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const val = e.target.getAttribute('data-val');
                        store.saveClosure(val);
                        // Visual feedback before reload
                        div.innerHTML = `<p class="text-stone-400 text-sm italic fade-in">Reflected.</p>`;
                        setTimeout(() => this.render(), 1000);
                    });
                });

                this.app.appendChild(div);
            },

            renderWeeklySummary(currentDate) {
                const keywords = store.getWeeklyKeywords();
                // If no keywords found (e.g. nonsense data), skip
                if (keywords.length === 0) return;

                const div = document.createElement('div');
                div.className = 'mt-8 p-6 bg-stone-100 dark:bg-stone-900 rounded-lg text-center fade-in delay-200';
                div.innerHTML = `
                    <h3 class="text-xs font-bold text-stone-400 uppercase tracking-widest mb-3">Weekly Glimpse</h3>
                    <p class="text-stone-600 dark:text-stone-400 mb-2">This week, you focused on:</p>
                    <div class="flex flex-wrap justify-center gap-2 mt-3">
                        ${keywords.map(k => `<span class="px-3 py-1 bg-white dark:bg-stone-800 rounded-full text-sm text-stone-800 dark:text-stone-200 shadow-sm capitalize">${k}</span>`).join('')}
                    </div>
                    <button id="close-weekly" class="mt-6 text-xs text-stone-400 hover:text-stone-600 underline">Close</button>
                `;
                
                // Mark summary as seen for this date
                store.meta.lastWeeklySummary = currentDate;
                store.save();

                div.querySelector('#close-weekly').addEventListener('click', () => {
                   this.render(); 
                });

                this.app.appendChild(div);
            },

            renderFooterMessage(text) {
                const footer = document.createElement('div');
                footer.className = 'mt-16 pb-8 text-center fade-in delay-300 flex flex-col items-center space-y-6';
                
                // Status Message
                footer.innerHTML = `
                    <div class="inline-flex items-center space-x-2 text-stone-500">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        <span class="text-sm font-medium">${text}</span>
                    </div>
                `;

                // Controls Container
                const controls = document.createElement('div');
                controls.className = 'flex gap-6 text-xs text-stone-400';

                // Reminder Toggle
                if ('Notification' in window && Notification.permission !== 'denied' && Notification.permission !== 'granted') {
                    const remindBtn = document.createElement('button');
                    remindBtn.className = "hover:text-stone-600 dark:hover:text-stone-300 transition-colors underline decoration-stone-200 dark:decoration-stone-700";
                    remindBtn.innerText = "Enable Reminder";
                    remindBtn.onclick = () => {
                         Notification.requestPermission().then(permission => {
                             if (permission === 'granted') {
                                 new Notification("DECIDE.", { body: "Reminders enabled." });
                                 remindBtn.remove();
                             }
                         });
                    };
                    controls.appendChild(remindBtn);
                }

                // Export Data (Trust Feature)
                const exportBtn = document.createElement('button');
                exportBtn.className = "hover:text-stone-600 dark:hover:text-stone-300 transition-colors underline decoration-stone-200 dark:decoration-stone-700";
                exportBtn.innerText = "Export Data";
                exportBtn.onclick = () => {
                    const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify({
                        data: store.data,
                        meta: store.meta
                    }, null, 2));
                    const downloadAnchorNode = document.createElement('a');
                    downloadAnchorNode.setAttribute("href", dataStr);
                    downloadAnchorNode.setAttribute("download", "decide_backup_" + new Date().toISOString().split('T')[0] + ".json");
                    document.body.appendChild(downloadAnchorNode); // required for firefox
                    downloadAnchorNode.click();
                    downloadAnchorNode.remove();
                };
                controls.appendChild(exportBtn);

                footer.appendChild(controls);
                this.app.appendChild(footer);
            },

            renderPrivacyModal() {
                document.getElementById('privacy-modal').classList.add('modal-active');
            },

            escapeHtml(unsafe) {
                return unsafe
                     .replace(/&/g, "&amp;")
                     .replace(/</g, "&lt;")
                     .replace(/>/g, "&gt;")
                     .replace(/"/g, "&quot;")
                     .replace(/'/g, "&#039;");
            }
        };

        // --- Init ---
        document.addEventListener('DOMContentLoaded', () => {
            ui.initTheme(); // Initial theme setup
            ui.render();
        });

    </script>
</body>
</html>